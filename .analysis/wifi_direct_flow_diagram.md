# Wi-Fi Direct Flow Diagram

## BEFORE FIX (Incorrect Architecture)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    âŒ WRONG ASSUMPTION                            â”‚
â”‚                                                                   â”‚
â”‚  Device A (Group Owner)  â”€â”€â”€â”€â”€â”€â”€â”€â†’  ALWAYS SENDER                â”‚
â”‚  192.168.49.1                       Hardcoded IP                 â”‚
â”‚                                                                   â”‚
â”‚  Device B (Client)       â”€â”€â”€â”€â”€â”€â”€â”€â†’  ALWAYS RECEIVER              â”‚
â”‚  192.168.49.2                       Hardcoded IP                 â”‚
â”‚                                                                   â”‚
â”‚  Problems:                                                        â”‚
â”‚  â€¢ Can't reverse roles                                           â”‚
â”‚  â€¢ Hardcoded IPs fail                                            â”‚
â”‚  â€¢ Multiple dialogs crash app                                    â”‚
â”‚  â€¢ Performance issues                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## AFTER FIX (Correct Architecture)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 PHASE 1: Wi-Fi Direct Connection                  â”‚
â”‚                    (Network Establishment Only)                   â”‚
â”‚                                                                   â”‚
â”‚  Device A                           Device B                     â”‚
â”‚     â”‚                                  â”‚                         â”‚
â”‚     â”‚â”€â”€â”€ Discover Peers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚                         â”‚
â”‚     â”‚                                  â”‚                         â”‚
â”‚     â”‚â†â”€â”€ Peer List â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                         â”‚
â”‚     â”‚                                  â”‚                         â”‚
â”‚     â”‚â”€â”€â”€ Connect (GO Intent) â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚                         â”‚
â”‚     â”‚                                  â”‚                         â”‚
â”‚     â”‚â†â”€â”€ Connection Established â”€â”€â”€â”€â”€â”€â”€â”‚                         â”‚
â”‚     â”‚                                  â”‚                         â”‚
â”‚  [Group Owner]                    [Client]                       â”‚
â”‚  192.168.49.1                     192.168.49.2                   â”‚
â”‚                                                                   â”‚
â”‚  âš ï¸  NOTE: These roles do NOT determine sender/receiver!         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              PHASE 2: HTTP Server & UDP Discovery                 â”‚
â”‚                    (Both Devices, Regardless of Role)             â”‚
â”‚                                                                   â”‚
â”‚  Device A (GO or Client)         Device B (GO or Client)         â”‚
â”‚     â”‚                                  â”‚                         â”‚
â”‚     â”‚â”€â”€â”€ Start HTTP Server â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€ Start HTTP Server    â”‚
â”‚     â”‚    (Port 8080)                   â”‚    (Port 8080)          â”‚
â”‚     â”‚                                  â”‚                         â”‚
â”‚     â”‚â”€â”€â”€ Start UDP Broadcast â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€ Start UDP Broadcast  â”‚
â”‚     â”‚    (Every 8 seconds)             â”‚    (Every 8 seconds)    â”‚
â”‚     â”‚                                  â”‚                         â”‚
â”‚     â”‚â†â”€â”€ UDP Discovery â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                         â”‚
â”‚     â”‚    "I'm at 192.168.49.2"         â”‚                         â”‚
â”‚     â”‚                                  â”‚                         â”‚
â”‚     â”‚â”€â”€â”€ UDP Discovery â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚                         â”‚
â”‚     â”‚    "I'm at 192.168.49.1"         â”‚                         â”‚
â”‚     â”‚                                  â”‚                         â”‚
â”‚  âœ… Discovered peer IP: 192.168.49.2                             â”‚
â”‚                                     âœ… Discovered peer IP: 192.168.49.1
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                PHASE 3: File Transfer Request                     â”‚
â”‚              (Sender Determined by User Action)                   â”‚
â”‚                                                                   â”‚
â”‚  SCENARIO A: Device A wants to send files                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                   â”‚
â”‚  Device A (Sender)                   Device B (Receiver)         â”‚
â”‚     â”‚                                  â”‚                         â”‚
â”‚     â”‚â”€â”€â”€ Select Files â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                         â”‚
â”‚     â”‚    (3 files, 15 MB)              â”‚                         â”‚
â”‚     â”‚                                  â”‚                         â”‚
â”‚     â”‚â”€â”€â”€ Send Connection Request â”€â”€â”€â”€â”€â†’â”‚                         â”‚
â”‚     â”‚    (to 192.168.49.2 via UDP)     â”‚                         â”‚
â”‚     â”‚                                  â”‚                         â”‚
â”‚     â”‚                                  â”‚â”€â”€â”€ Receive Request       â”‚
â”‚     â”‚                                  â”‚    (Deduplicated!)       â”‚
â”‚     â”‚                                  â”‚                         â”‚
â”‚     â”‚                                  â”‚â”€â”€â”€ Show Dialog (ONCE)   â”‚
â”‚     â”‚                                  â”‚    "Accept 3 files?"     â”‚
â”‚     â”‚                                  â”‚                         â”‚
â”‚     â”‚â†â”€â”€ Accept Response â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€ User Accepts         â”‚
â”‚     â”‚                                  â”‚                         â”‚
â”‚     â”‚â”€â”€â”€ HTTP File Transfer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚                         â”‚
â”‚     â”‚    (http://192.168.49.1:8080)    â”‚                         â”‚
â”‚     â”‚                                  â”‚                         â”‚
â”‚  âœ… Transfer Complete                                            â”‚
â”‚                                                                   â”‚
â”‚  SCENARIO B: Device B wants to send files (ROLE REVERSAL!)       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                   â”‚
â”‚  Device A (Receiver)                 Device B (Sender)           â”‚
â”‚     â”‚                                  â”‚                         â”‚
â”‚     â”‚                                  â”‚â”€â”€â”€ Select Files         â”‚
â”‚     â”‚                                  â”‚    (2 files, 8 MB)       â”‚
â”‚     â”‚                                  â”‚                         â”‚
â”‚     â”‚â†â”€â”€ Send Connection Request â”€â”€â”€â”€â”€â”€â”‚                         â”‚
â”‚     â”‚    (to 192.168.49.1 via UDP)     â”‚                         â”‚
â”‚     â”‚                                  â”‚                         â”‚
â”‚     â”‚â”€â”€â”€ Receive Request               â”‚                         â”‚
â”‚     â”‚    (Deduplicated!)               â”‚                         â”‚
â”‚     â”‚                                  â”‚                         â”‚
â”‚     â”‚â”€â”€â”€ Show Dialog (ONCE)            â”‚                         â”‚
â”‚     â”‚    "Accept 2 files?"             â”‚                         â”‚
â”‚     â”‚                                  â”‚                         â”‚
â”‚     â”‚â”€â”€â”€ User Accepts â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚                         â”‚
â”‚     â”‚                                  â”‚                         â”‚
â”‚     â”‚â†â”€â”€ HTTP File Transfer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                         â”‚
â”‚     â”‚    (http://192.168.49.2:8080)    â”‚                         â”‚
â”‚     â”‚                                  â”‚                         â”‚
â”‚  âœ… Transfer Complete                                            â”‚
â”‚                                                                   â”‚
â”‚  âœ… BOTH SCENARIOS WORK! Role independence proven!               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Connection Request Deduplication

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Connection Request Deduplication Logic               â”‚
â”‚                                                                   â”‚
â”‚  Sender Device                       Receiver Device             â”‚
â”‚     â”‚                                  â”‚                         â”‚
â”‚     â”‚â”€â”€â”€ Request #1 (t=0s) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚                         â”‚
â”‚     â”‚                                  â”‚â”€â”€â”€ Check: First request â”‚
â”‚     â”‚                                  â”‚    âœ… SHOW DIALOG       â”‚
â”‚     â”‚                                  â”‚    Record: DeviceA @ t=0â”‚
â”‚     â”‚                                  â”‚                         â”‚
â”‚     â”‚â”€â”€â”€ Request #2 (t=2s) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚                         â”‚
â”‚     â”‚    (UDP retry)                   â”‚â”€â”€â”€ Check: Last @ t=0    â”‚
â”‚     â”‚                                  â”‚    2s < 10s window      â”‚
â”‚     â”‚                                  â”‚    â­ï¸  IGNORE (duplicate)â”‚
â”‚     â”‚                                  â”‚                         â”‚
â”‚     â”‚â”€â”€â”€ Request #3 (t=4s) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚                         â”‚
â”‚     â”‚    (UDP retry)                   â”‚â”€â”€â”€ Check: Last @ t=0    â”‚
â”‚     â”‚                                  â”‚    4s < 10s window      â”‚
â”‚     â”‚                                  â”‚    â­ï¸  IGNORE (duplicate)â”‚
â”‚     â”‚                                  â”‚                         â”‚
â”‚     â”‚                                  â”‚                         â”‚
â”‚  Result: SINGLE dialog shown, no crashes!                        â”‚
â”‚                                                                   â”‚
â”‚  Deduplication Window: 10 seconds                                â”‚
â”‚  Cleanup: Automatic removal of old entries                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## UDP Broadcast Optimization

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  UDP Broadcast Frequency                          â”‚
â”‚                                                                   â”‚
â”‚  BEFORE FIX (5 second interval):                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚                                                                   â”‚
â”‚  0s    5s    10s   15s   20s   25s   30s   35s   40s   45s   50s â”‚
â”‚  â”‚     â”‚     â”‚     â”‚     â”‚     â”‚     â”‚     â”‚     â”‚     â”‚     â”‚   â”‚
â”‚  â–¼     â–¼     â–¼     â–¼     â–¼     â–¼     â–¼     â–¼     â–¼     â–¼     â–¼   â”‚
â”‚  ğŸ“¡    ğŸ“¡    ğŸ“¡    ğŸ“¡    ğŸ“¡    ğŸ“¡    ğŸ“¡    ğŸ“¡    ğŸ“¡    ğŸ“¡    ğŸ“¡  â”‚
â”‚                                                                   â”‚
â”‚  Total broadcasts in 50s: 11                                     â”‚
â”‚  Network load: HIGH                                              â”‚
â”‚  Performance: POOR (app slow, IDE slow)                          â”‚
â”‚                                                                   â”‚
â”‚  AFTER FIX (8 second interval):                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚                                                                   â”‚
â”‚  0s         8s        16s       24s       32s       40s      48s â”‚
â”‚  â”‚          â”‚         â”‚         â”‚         â”‚         â”‚         â”‚  â”‚
â”‚  â–¼          â–¼         â–¼         â–¼         â–¼         â–¼         â–¼  â”‚
â”‚  ğŸ“¡         ğŸ“¡        ğŸ“¡        ğŸ“¡        ğŸ“¡        ğŸ“¡        ğŸ“¡ â”‚
â”‚                                                                   â”‚
â”‚  Total broadcasts in 50s: 7                                      â”‚
â”‚  Network load: REDUCED by 37%                                    â”‚
â”‚  Performance: GOOD (app responsive, IDE normal)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Key Architectural Principles

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     SEPARATION OF CONCERNS                        â”‚
â”‚                                                                   â”‚
â”‚  Layer 1: Wi-Fi Direct                                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  Purpose: Establish P2P network                                  â”‚
â”‚  Output: IP addresses (192.168.49.x)                             â”‚
â”‚  Roles: Group Owner vs Client (NETWORK TOPOLOGY ONLY)            â”‚
â”‚  âš ï¸  Does NOT determine sender/receiver!                         â”‚
â”‚                                                                   â”‚
â”‚  Layer 2: HTTP Server                                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  Purpose: Serve files over HTTP                                  â”‚
â”‚  Port: 8080                                                      â”‚
â”‚  Running on: BOTH devices (regardless of GO/Client)              â”‚
â”‚                                                                   â”‚
â”‚  Layer 3: UDP Discovery                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  Purpose: Discover peer's IP address                             â”‚
â”‚  Method: Broadcast presence every 8 seconds                      â”‚
â”‚  Running on: BOTH devices (regardless of GO/Client)              â”‚
â”‚                                                                   â”‚
â”‚  Layer 4: Application Logic                                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  Purpose: Determine sender/receiver based on user action         â”‚
â”‚  Sender: Device with files selected                              â”‚
â”‚  Receiver: Device without files (or different session)           â”‚
â”‚  âœ… Can be EITHER GO or Client!                                  â”‚
â”‚                                                                   â”‚
â”‚  Layer 5: Deduplication                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  Purpose: Prevent multiple dialogs from UDP retries              â”‚
â”‚  Method: Track requests by device ID + timestamp                 â”‚
â”‚  Window: 10 seconds                                              â”‚
â”‚  Result: SINGLE dialog per request                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Remember:** 
- Wi-Fi Direct = Network layer (topology)
- Sender/Receiver = Application layer (user action)
- These are INDEPENDENT concepts!
